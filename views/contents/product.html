<div class="row">
	<div class="col-xs-12" ng-hide="!isForm">
		<div class="widget-box">
			<div class="widget-header">
				<h4 class="widget-title">Create New Product</h4>
			</div>

			<div class="widget-body">
				<div class="widget-main no-padding">
					<form name="productForm">
						<!-- <legend>Form</legend> -->
						<fieldset>
							<div class="row">
								<input type="text" ng-show="test" ng-model="pf.act" />
								<div class="col-xs-6">
									<select class="form-control" ng-model="pf.supplier_id" id="form-field-select-3" placeholder="Choose a Supplier...">
										<option value="" disabled selected>Select Supplier</option>
										<option value="1">PT. INDOFOOD GARUDA</option>
									</select>
								</div>
								<div class="col-xs-6">
									<input type="text" id="form-field-1-1" ng-model="pf.name" placeholder="Name" class="form-control" />
								</div>
							</div>
							<div class="space-4"></div>
							<div class="row">
								<div class="col-xs-6">
									<select class="form-control" ng-model="pf.type" id="form-field-select-3" placeholder="Choose a Supplier...">
										<option value="" disabled selected>Select Type</option>
										<option value="Makanan">Makanan</option>
										<option value="Minuman">Minuman</option>
										<option value="Elektronik">Elektronik</option>
										<option value="Mainan">Mainan</option>
										<option value="Kesehatan">Kesehatan</option>
										<option value="Lainnya">Lainnya</option>
									</select>
								</div>
								<div class="col-xs-6">
									<textarea class="form-control" style="height: 34px;" id="form-field-8" ng-model="pf.description" placeholder="Description"></textarea>
								</div>
							</div>
							<div class="space-4"></div>
							<div class="row">
								<div class="col-xs-3">
										<input type="number" id="form-field-1-1" ng-model="pf.price" placeholder="Price" class="form-control" />
								</div>
								<div class="col-xs-3">
									<input type="number" id="form-field-1-1" ng-model="pf.cost" placeholder="Cost" class="form-control" />
								</div>
								<div class="col-xs-3">
									<input type="number" id="form-field-1-1" ng-model="pf.stock" placeholder="Stock" class="form-control" />
								</div>
								<div class="col-xs-3">
									<input type="number" id="form-field-1-1" ng-model="pf.stock_min" placeholder="Min Stock" class="form-control" />
								</div>
							</div>
							<div class="space-4"></div>
							<div class="row">
								<div class="col-xs-4">
									<div class="checkbox">
										<label>
											<input name="form-field-checkbox" type="checkbox" ng-model="pf.discount_status" class="ace input-lg" />
											<span class="lbl bigger-120"> discount?</span>
										</label>
									</div>
								</div>
								<div class="col-xs-4" ng-show="pf.discount_status">
									<input type="number" id="form-field-1-1" ng-model="pf.discount_qty_min" placeholder="Discount Qty" class="form-control" />
								</div>
								<div class="col-xs-4" ng-show="pf.discount_status">
									<input type="number" id="form-field-1-1" ng-model="pf.discount_rate" placeholder="Discount Rate" class="form-control" />
								</div>
							</div>
							<div class="space-4"></div>
							<div class="row">
								<div class="col-xs-6">
									<div class="checkbox">
										<label>
											<input name="form-field-checkbox" type="checkbox" ng-model="pf.expired_status" class="ace input-lg" />
											<span class="lbl bigger-120"> expired?</span>
										</label>
									</div>
								</div>
								<div class="col-xs-6" ng-show="pf.expired_status">
									<div class="input-group">
										<input class="form-control date-picker" id="id-date-picker-1" type="text" ng-model="pf.expired_date" data-date-format="dd/mm/yyyy" />
										<span class="input-group-addon">
											<i class="fa fa-calendar bigger-110"></i>
										</span>
									</div>
									<!-- <input type="number" id="form-field-1-1" ng-model="pf.expired_date" placeholder="Discount Qty" class="form-control" /> -->
								</div>
							</div>
						</fieldset>

						<div class="form-actions center">
							<button type="button" class="btn btn-sm btn-danger" ng-click="actionProduct('cancel', null)">
								<i class="ace-icon fa fa-arrow-left icon-on-right"></i>
								Cancel
							</button>
							<button type="reset" class="btn btn-sm btn-default">
								<i class="ace-icon fa fa-refresh icon-on-right"></i>
								Reset
							</button>
							<button type="button" ng-show="pf.act != 'edit'" class="btn btn-sm btn-success" ng-click="saveProduct('create', pf)">
								Create
								<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
							</button>
							<button type="button" ng-show="pf.act == 'edit'" class="btn btn-sm btn-success" ng-click="saveProduct('edit', pf)">
								Update
								<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div><!-- /.span -->

	<div class="col-xs-12" ng-hide="isForm">
		<div class="table-responsive">
			<div class="pull-left tableTools-container">
				<div class="dt-buttons btn-overlap btn-group">
					<span class="input-icon">
						<input type="text" class="form-control" placeholder="Filter..." ng-model="filterText">
					</span>
				</div>
			</div>
			<div class="pull-right tableTools-container">
				<div class="dt-buttons btn-overlap btn-group">
					<button class="dt-button buttons-collection buttons-colvis btn btn-white btn-primary btn-bold" ng-click="actionProduct('create', null)" title="create product" data-rel="tooltip">
						<span><i class="fa fa-file bigger-110 green"></i>
						</span>
					</button>
					<button class="dt-button buttons-csv buttons-html5 btn btn-white btn-primary btn-bold" ng-click="actionProduct('delete', null)" title="delete product" data-rel="tooltip">
						<span>
							<i class="fa fa-trash bigger-110 red"></i>
						</span>
					</button>
				</div>
			</div>
			<table id="simple-table" class="table  table-bordered table-hover">
				<thead>
					<tr>
						<th>Code</th>
						<th>Name</th>
						<th>Type</th>
						<th>Description</th>
						<th>Price</th>
						<th>Cost</th>
						<th>Stock</th>
						<th>Min Stock</th>
						<th>Disc. Qty</th>
						<th>Disc. Rate(%)</th>
						<th>Expired Date</th>
						<th>Create Date</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="x in filterData = (products | filter:{name:filterText}) | limitTo:10:10*(page-1)">
						<td>{{x.product_id}}</td>
						<td>{{x.name}}</td>
						<td>{{x.type}}</td>
						<td>{{x.description}}</td>
						<td class="center">{{x.price | currency:"":0}}</td>
						<td class="center">{{x.cost | currency:"":0}}</td>
						<td class="center">{{x.stock}}</td>
						<td class="center">{{x.stock_min}}</td>
						<td class="center">{{x.discount_qty_min}}</td>
						<td class="center">{{x.discount_rate}}</td>
						<td>{{x.expired_date}}</td>
						<td>{{x.created_date}}</td>
						<td>
							<div class="hidden-sm hidden-xs action-buttons">
								<a class="blue" href="" ng-click="actionProduct('edit', x)">
									<i class="ace-icon fa fa-pencil bigger-130"></i>
								</a>

								<a class="red" href="" ng-click="saveProduct('delete', x)">
									<i class="ace-icon fa fa-trash-o bigger-130"></i>
								</a>
							</div>

							<div class="hidden-md hidden-lg">
								<div class="inline pos-rel">
									<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
										<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
									</button>

									<ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
										<li>
											<a href="" class="tooltip-info" data-rel="tooltip" title="Edit" ng-click="actionProduct('edit', x)">
												<span class="blue">
													<i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
												</span>
											</a>
										</li>

										<li>
											<a href="" class="tooltip-error" data-rel="tooltip" title="Delete" ng-click="saveProduct('delete', x)">
												<span class="red">
													<i class="ace-icon fa fa-trash-o bigger-120"></i>
												</span>
											</a>
										</li>
									</ul>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<div class="pull-right">
				<uib-pagination class="pagination-sm pagination" total-items="products.length" ng-model="page"
					ng-change="pageChanged()" previous-text="&lsaquo;" next-text="&rsaquo;" items-per-page=10></uib-pagination>
			</div>
		</div>

	</div><!-- /.span -->
</div><!-- /.row -->
<script>
	$('[data-rel=tooltip]').tooltip();

	if(!ace.vars['touch']) {
		$('.chosen-select').chosen({allow_single_deselect:true});
		//resize the chosen on window resize

		$(window)
		.off('resize.chosen')
		.on('resize.chosen', function() {
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({'width': $this.parent().width()});
			})
		}).trigger('resize.chosen');
		//resize chosen on sidebar collapse/expand
		$(document).on('settings.ace.chosen', function(e, event_name, event_val) {
			if(event_name != 'sidebar_collapsed') return;
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({'width': $this.parent().width()});
			})
		});
	}

	$('.date-picker').datepicker({
		autoclose: true,
		todayHighlight: true
	});
</script>
